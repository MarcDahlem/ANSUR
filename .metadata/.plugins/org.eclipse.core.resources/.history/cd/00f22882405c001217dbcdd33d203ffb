package com.example.streamwithvlc;

import java.util.ArrayList;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class ListCamerasActivity extends Activity {

	ArrayList<String> camerasList = new ArrayList<String>(); 
	ArrayAdapter<String> aa;
	ListView camerasListView;
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_list_cameras);
		
		// Gets the listview
				camerasListView = (ListView) findViewById(R.id.camerasListView);
				// set resID to be a specefic layout
				int resID = android.R.layout.simple_list_item_multiple_choice;
				
				// Combine the list to the layout
				aa = new ArrayAdapter<String>(this.getApplicationContext(), resID , camerasList);

				// Sets the adapter into the view
				camerasListView.setAdapter(aa);
				
				camerasList.add((new Camera("Cam1", "Kitchen", 1000)).toString());
				camerasList.add((new Camera("Cam2", "Bedroom", 2000)).toString());
				aa.notifyDataSetChanged();
				camerasListView.setTextFilterEnabled(true);
				
				camerasListView.setOnItemClickListener(new OnItemClickListener() {
					public void onItemClick(AdapterView<?> parent, View view,int position, long id) {

						// When clicked, show a toast with the TextView text
						String text = ((TextView) view).getText().toString();
						Toast toast = Toast.makeText(getApplicationContext(),"Clicked on: \n" + text, Toast.LENGTH_SHORT);
						toast.show();
					}
				});
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.activity_list_cameras, menu);
		return true;
	}
	
	public void onClick(View view) {
    	switch(view.getId()) {
    	
    	case R.id.subscribe_button:
    		Toast toast = Toast.makeText(getApplicationContext(),"Subscribing to:", Toast.LENGTH_SHORT);
			toast.show();
			break;
			
    	case R.id.refresh_button:
    		Toast toast = Toast.makeText(getApplicationContext(),"Refreshing list", Toast.LENGTH_SHORT);
			toast.show();
    		break;
    		
    	case R.id.cameras_back_button:
    		finish();
    		break;
    	}
	}

}
